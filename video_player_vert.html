<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jaayma Help Center - Steps</title>
    <link href="images/logo.ico" rel="icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        main {
            width: 100%;
            height: 100%;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
        }

        #tutorial-iframe {
            width: 56.25vh; /* 9/16 aspect ratio based on viewport height */
            height: 100%;
            max-width: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <main class="main-content">
        <div class="container">
            <iframe 
                id="tutorial-iframe" 
                src=""
                title="YouTube video player" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                allowfullscreen>
            </iframe>
        </div>
    </main>

    <script>
        // Steps data with video URLs
        const stepsData = {
            'auth_purchase':{
                videoUrl: 'https://www.youtube.com/embed/nBafOl-d1dM'
            },
        };

        // Function to get URL parameter
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Function to load video based on URL parameter
        function loadVideo() {
            const stepType = getUrlParameter('step');
            const stepData = stepsData[stepType];
            const container = document.getElementById('video-container');
            const iframe = document.getElementById('tutorial-iframe');

            if (!stepData) {
                // Show error message if step type not found
                container.innerHTML = `
                    <div class="error-message">
                        <i class='bx bx-error-circle'></i>
                        <h3>Video not found</h3>
                        <p>The requested video could not be found.</p>
                        <a href="help.html" class="back-button">Return to Help Center</a>
                    </div>
                `;
                return;
            }

            // Set video URL from step data
            iframe.src = stepData.videoUrl;
        }

        // Load video when page loads
        document.addEventListener('DOMContentLoaded', loadVideo);
    </script>
</body>
</html>
